<!-- AlertContainer.vue -->
<template>
  <div class="fixed top-4 right-4 z-50 flex flex-col gap-2">
    <Alerta
      v-for="(a, i) in alertas"
      :key="i"
      :mensaje="a.mensaje"
      :tipo="a.tipo"
      :tama単o="a.tama単o"
      @cerrar="eliminarAlerta(i)"
    />
  </div>
</template>

<script>
import Alerta from './Alerta.vue';
import { reactive } from 'vue';

export const alertas = reactive([]);

export function mostrarAlertaGlobal(mensaje, tipo = 'info', tama単o = 'base') {
  alertas.push({ mensaje, tipo, tama単o });
}

export default {
  components: { Alerta },
  setup() {
    const eliminarAlerta = (index) => {
      alertas.splice(index, 1);
    };
    return { alertas, eliminarAlerta };
  },
};
</script>
